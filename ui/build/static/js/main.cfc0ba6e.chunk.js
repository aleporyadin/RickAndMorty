(this.webpackJsonpa=this.webpackJsonpa||[]).push([[0],{49:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(23),r=s.n(c),i=s(25),l=s(2),o=s(8),d=s(9),h=s(10),j=s(12),u=s(11),b=s(24),p=s.n(b),m=s(1),O=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.update={id:e.target.elements.heroid.value,name:e.target.elements.heroname.value,status:e.target.elements.herostatus.value,species:e.target.elements.herospecies.value,type:e.target.elements.herotype.value,gender:e.target.elements.herogender.value},p.a.put("http://localhost:8080/",n.update).then((function(e){200===e.status?window.location.reload():(console.log("Status: ",e.status),console.log("Data: ",e.data))})).catch((function(e){console.error("Something went wrong!",e.response.data)}))},n.state={},n}return Object(d.a)(s,[{key:"render",value:function(){return Object(m.jsx)(a.a.Fragment,{children:this.props.show&&Object(m.jsx)("div",{className:"modal",children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,className:"change-form",children:[Object(m.jsxs)("div",{className:"container-modal-form",children:[Object(m.jsx)("label",{children:"ID: "}),Object(m.jsx)("input",{className:"input-id",readOnly:"readonly",type:"number",name:"heroid",defaultValue:this.props.id}),Object(m.jsx)("label",{children:"Name:"}),Object(m.jsx)("input",{type:"text",name:"heroname",defaultValue:this.props.name}),Object(m.jsx)("label",{children:"Status:"}),Object(m.jsx)("input",{type:"text",name:"herostatus",defaultValue:this.props.status}),Object(m.jsx)("label",{children:"Species:"}),Object(m.jsx)("input",{type:"text",name:"herospecies",defaultValue:this.props.species}),Object(m.jsx)("label",{children:"Type:"}),Object(m.jsx)("input",{type:"text",name:"herotype",defaultValue:this.props.type}),Object(m.jsx)("label",{children:"Gender:"}),Object(m.jsx)("input",{type:"text",name:"herogender",defaultValue:this.props.gender})]}),Object(m.jsxs)("div",{className:"container-btn-actions-form",children:[Object(m.jsx)("input",{type:"submit",value:"Change",className:"btn btn-action-form"}),Object(m.jsx)("button",{onClick:this.props.onHide,className:"btn btn-action-form",children:"Close"})]})]})})})}}]),s}(n.Component),x=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).getModal=function(e){n.setState({showModal:e})},n.hideModal=function(e){n.setState({showModal:0})},n.state={showModal:0},n.filterSearchByName=n.filterSearchByName.bind(Object(h.a)(n)),n}return Object(d.a)(s,[{key:"filterSearchByName",value:function(e){"Enter"===e.key&&(e.target.value.length||this.setjson(),this.setjson(),this.setState({items:this.state.items.filter((function(t){return-1!==t.name.toLowerCase().search(e.target.value.toLowerCase())?t:null})),isLoaded:!0,error:!1,showModal:0}))}},{key:"setjson",value:function(){var e=this;fetch("http://localhost:8080/characters").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t,showModal:0})}),(function(t){e.setState({isLoaded:!0,error:t,showModal:0})}))}},{key:"componentDidMount",value:function(){this.setjson()}},{key:"render",value:function(){var e=this,t=this.state,s=t.error,n=t.isLoaded,a=t.items;return s?Object(m.jsxs)("div",{children:["Error: ",s.message]}):n?Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h2",{children:"Search by name"}),Object(m.jsx)("input",{type:"text",placeholder:"Go search by name: ",className:"search-inp",onKeyDown:this.filterSearchByName}),Object(m.jsxs)("table",{id:"content-table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Status"}),Object(m.jsx)("th",{children:"Species"}),Object(m.jsx)("th",{children:"Type"}),Object(m.jsx)("th",{children:"Gender"})]})}),Object(m.jsx)("tbody",{children:a.map((function(t,s){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t.id}),Object(m.jsx)("td",{children:t.name}),Object(m.jsx)("td",{children:t.status}),Object(m.jsx)("td",{children:t.species}),Object(m.jsx)("td",{children:t.type}),Object(m.jsx)("td",{children:t.gender}),Object(m.jsxs)("td",{children:[Object(m.jsx)("input",{type:"button",value:"Edit",className:"btn btn-edit",onClick:function(){return e.getModal(t.id)}}),Object(m.jsx)(O,{characters:e.state.items,show:e.state.showModal===t.id,onHide:function(){return e.hideModal(t.id)},id:t.id,name:t.name,status:t.status,species:t.species,type:t.type,gender:t.gender})]})]},s)}))})]})]}):Object(m.jsx)("div",{children:"Loading..."})}}]),s}(n.Component);r.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(l.c,{children:Object(m.jsx)(l.a,{path:"/",element:Object(m.jsx)(x,{})})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.cfc0ba6e.chunk.js.map