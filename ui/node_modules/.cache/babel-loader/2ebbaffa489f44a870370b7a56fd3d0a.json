{"ast":null,"code":"import _classCallCheck from\"/Users/user/Documents/Projects/api/rickandmortyui/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/user/Documents/Projects/api/rickandmortyui/ui/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/user/Documents/Projects/api/rickandmortyui/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/user/Documents/Projects/api/rickandmortyui/ui/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/user/Documents/Projects/api/rickandmortyui/ui/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import EditCharacter from\"./EditCharacter\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var TableCharacter=/*#__PURE__*/function(_Component){_inherits(TableCharacter,_Component);var _super=_createSuper(TableCharacter);function TableCharacter(props){var _this;_classCallCheck(this,TableCharacter);_this=_super.call(this,props);_this.getModal=function(value){_this.setState({showModal:value});};_this.hideModal=function(value){_this.setState({showModal:0});};_this.state={showModal:0};_this.filterSearchByName=_this.filterSearchByName.bind(_assertThisInitialized(_this));return _this;}_createClass(TableCharacter,[{key:\"filterSearchByName\",value:function filterSearchByName(e){if(e.key===\"Enter\"){if(!e.target.value.length)this.setjson();this.setjson();this.setState({items:this.state.items.filter(function(item){if(item.name.toLowerCase().search(e.target.value.toLowerCase())!==-1)return item;else return null;}),isLoaded:true,error:false,showModal:0});}}},{key:\"setjson\",value:function setjson(){var _this2=this;fetch(\"http://localhost:8080/characters\").then(function(res){return res.json();}).then(function(data){_this2.setState({isLoaded:true,items:data,showModal:0});},function(error){_this2.setState({isLoaded:true,error:error,showModal:0});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.setjson();}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,items=_this$state.items;if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search by name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Go search by name: \",className:\"search-inp\",onKeyDown:this.filterSearchByName}),/*#__PURE__*/_jsxs(\"table\",{id:\"content-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Species\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,line){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.status}),/*#__PURE__*/_jsx(\"td\",{children:item.species}),/*#__PURE__*/_jsx(\"td\",{children:item.type}),/*#__PURE__*/_jsx(\"td\",{children:item.gender}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Edit\",className:\"btn btn-edit\",onClick:function onClick(){return _this3.getModal(item.id);}}),/*#__PURE__*/_jsx(EditCharacter,{characters:_this3.state.items,show:_this3.state.showModal===item.id,onHide:function onHide(){return _this3.hideModal(item.id);},id:item.id,name:item.name,status:item.status,species:item.species,type:item.type,gender:item.gender})]})]},line);})})]})]});}}}]);return TableCharacter;}(Component);export{TableCharacter as default};","map":{"version":3,"sources":["/Users/user/Documents/Projects/api/rickandmortyui/ui/src/TableCharacter.js"],"names":["React","Component","EditCharacter","TableCharacter","props","getModal","value","setState","showModal","hideModal","state","filterSearchByName","bind","e","key","target","length","setjson","items","filter","item","name","toLowerCase","search","isLoaded","error","fetch","then","res","json","data","message","map","line","id","status","species","type","gender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EditCharacter from \"./EditCharacter\";\n\nexport default class TableCharacter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { showModal: 0 };\n    this.filterSearchByName = this.filterSearchByName.bind(this);\n  }\n\n  filterSearchByName(e) {\n    if (e.key === \"Enter\") {\n      if (!e.target.value.length) this.setjson();\n      this.setjson()\n      this.setState({\n        items: this.state.items.filter(\n            (item) => {\n              if (item.name.toLowerCase().search(e.target.value.toLowerCase()) !== -1) return item;\n                else return null;\n              }\n            ),\n          isLoaded: true,\n          error: false,\n          showModal: 0,\n        }\n      );\n    } \n  }\n\n\n\n\n  setjson() {\n    fetch(\"http://localhost:8080/characters\")\n      .then((res) => res.json())\n      .then(\n        (data) => {\n          this.setState({\n            isLoaded: true,\n            items: data,\n            showModal: 0,\n          });\n        },\n\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n            showModal: 0,\n          });\n        }\n      );\n  }\n\n  getModal = (value) => {\n    this.setState({ showModal: value });\n  };\n\n  hideModal = (value) => {\n    this.setState({ showModal: 0 });\n  };\n  componentDidMount() {\n    this.setjson();\n  }\n\n  render() {\n    const { error, isLoaded, items } = this.state;\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div className=\"container\">\n          <h2>Search by name</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Go search by name: \"\n            className=\"search-inp\"\n            onKeyDown={this.filterSearchByName}\n          />\n          <table id=\"content-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Status</th>\n                <th>Species</th>\n                <th>Type</th>\n                <th>Gender</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, line) => (\n                <tr key={line}>\n                  <td>{item.id}</td>\n                  <td>{item.name}</td>\n                  <td>{item.status}</td>\n                  <td>{item.species}</td>\n                  <td>{item.type}</td>\n                  <td>{item.gender}</td>\n                  <td>\n                    <input\n                      type=\"button\"\n                      value=\"Edit\"\n                      className=\"btn btn-edit\"\n                      onClick={()=>this.getModal(item.id)}/>\n\n                    <EditCharacter\n                    characters ={this.state.items}\n                      show={this.state.showModal === item.id}\n                      onHide={() => this.hideModal(item.id)}\n                      id={item.id}\n                      name={item.name}\n                      status={item.status}\n                      species={item.species}\n                      type={item.type}\n                      gender={item.gender}/>\n                  \n                  </td>\n         \n                </tr>\n                \n              ))}\n            </tbody>\n          </table>\n        </div>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}